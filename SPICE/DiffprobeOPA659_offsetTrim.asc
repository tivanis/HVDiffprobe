Version 4
SHEET 1 4072 3188
WIRE 528 -592 464 -592
WIRE 688 -592 592 -592
WIRE 464 -480 464 -592
WIRE 528 -480 464 -480
WIRE 688 -480 688 -592
WIRE 688 -480 608 -480
WIRE -336 -368 -368 -368
WIRE -112 -368 -144 -368
WIRE -32 -368 -48 -368
WIRE 48 -368 32 -368
WIRE -208 -336 -208 -368
WIRE -192 -336 -208 -336
WIRE 688 -320 688 -480
WIRE 704 -320 688 -320
WIRE -1792 -256 -1808 -256
WIRE -1696 -256 -1792 -256
WIRE -1216 -256 -1264 -256
WIRE -368 -256 -368 -368
WIRE -368 -256 -480 -256
WIRE -352 -256 -368 -256
WIRE -272 -256 -272 -368
WIRE -192 -256 -192 -336
WIRE -112 -256 -112 -368
WIRE -32 -256 -32 -368
WIRE 48 -256 48 -368
WIRE 144 -256 128 -256
WIRE 224 -256 144 -256
WIRE 256 -256 224 -256
WIRE 368 -256 336 -256
WIRE 512 -256 368 -256
WIRE 1200 -256 1104 -256
WIRE 1344 -256 1264 -256
WIRE 704 -240 704 -320
WIRE 880 -240 704 -240
WIRE 464 -224 464 -480
WIRE 512 -224 464 -224
WIRE 704 -208 704 -240
WIRE 704 -208 656 -208
WIRE 1104 -160 1104 -256
WIRE 1200 -160 1104 -160
WIRE 1344 -160 1344 -256
WIRE 1344 -160 1280 -160
WIRE -2064 -144 -2064 -192
WIRE -1984 -144 -2064 -144
WIRE -1792 -144 -1792 -256
WIRE -1984 -128 -1984 -144
WIRE -1264 -128 -1264 -256
WIRE -2064 -96 -2064 -144
WIRE 224 -96 224 -256
WIRE 880 -16 880 -240
WIRE 944 -16 880 -16
WIRE 1104 -16 1104 -160
WIRE 1104 -16 1024 -16
WIRE 112 0 64 0
WIRE 528 0 464 0
WIRE 688 0 592 0
WIRE 1344 0 1344 -160
WIRE 1344 0 1280 0
WIRE 1104 16 1104 -16
WIRE 1136 16 1104 16
WIRE 64 32 64 0
WIRE 1344 32 1344 0
WIRE 1488 32 1344 32
WIRE 1648 32 1568 32
WIRE 1136 48 1104 48
WIRE 112 64 112 0
WIRE 224 64 224 -16
WIRE 224 64 112 64
WIRE -1792 80 -1792 -64
WIRE -1792 80 -1808 80
WIRE -1760 80 -1792 80
WIRE -1696 80 -1760 80
WIRE 944 80 880 80
WIRE 1104 80 1104 48
WIRE 1104 80 1024 80
WIRE -1792 96 -1792 80
WIRE 464 96 464 0
WIRE 528 96 464 96
WIRE 688 96 688 0
WIRE 688 96 608 96
WIRE 224 144 224 64
WIRE -2048 176 -2048 48
WIRE -1760 176 -1760 80
WIRE -320 208 -352 208
WIRE -96 208 -128 208
WIRE -16 208 -32 208
WIRE 64 208 48 208
WIRE -192 240 -192 208
WIRE -176 240 -192 240
WIRE 368 256 368 240
WIRE 1104 256 1104 80
WIRE -1760 288 -1760 256
WIRE 688 288 688 96
WIRE 832 288 688 288
WIRE 880 288 880 80
WIRE 880 288 832 288
WIRE 944 288 912 288
WIRE 1040 288 1008 288
WIRE -352 320 -352 208
WIRE -352 320 -544 320
WIRE -336 320 -352 320
WIRE -256 320 -256 208
WIRE -176 320 -176 240
WIRE -96 320 -96 208
WIRE -16 320 -16 208
WIRE 64 320 64 208
WIRE 112 320 112 304
WIRE 112 320 64 320
WIRE 224 320 224 224
WIRE 224 320 112 320
WIRE 256 320 224 320
WIRE 368 320 336 320
WIRE 528 320 368 320
WIRE 464 352 464 96
WIRE 528 352 464 352
WIRE 832 368 832 288
WIRE 832 368 672 368
WIRE 912 368 912 288
WIRE 912 368 896 368
WIRE 928 368 912 368
WIRE 1040 368 1040 288
WIRE 1040 368 1008 368
WIRE 704 432 688 432
WIRE 816 432 784 432
WIRE 896 448 896 368
WIRE 928 448 896 448
WIRE 1040 464 1040 368
WIRE 1040 464 992 464
WIRE 1104 464 1104 336
WIRE 1104 464 1040 464
WIRE 928 480 896 480
WIRE 896 512 896 480
WIRE 896 512 816 512
WIRE 896 528 896 512
WIRE 704 592 672 592
WIRE 816 592 784 592
FLAG -1216 -256 IN+
FLAG -1264 -48 IN-
FLAG -1984 -128 0
FLAG -2064 -272 V+
FLAG -2064 -16 V-
FLAG -480 -256 IN-
FLAG -544 320 IN+
FLAG -1760 288 0
FLAG 64 32 0
FLAG -2048 256 0
FLAG 1280 64 V+
FLAG 1280 32 V-
FLAG 656 -240 V-
FLAG 656 -272 V+
FLAG 1648 176 0
FLAG 144 -192 0
FLAG 112 240 0
FLAG 672 304 V+
FLAG 672 336 V-
FLAG 368 -192 0
FLAG 368 240 0
FLAG 960 496 V-
FLAG 960 432 V+
FLAG 688 432 V+
FLAG 672 592 V-
FLAG 896 592 0
SYMBOL voltage -1792 -160 R0
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
WINDOW 3 24 72 Left 2
SYMATTR Value2 AC 1
SYMATTR Value SINE(300 200 100k)
SYMATTR InstName V1
SYMBOL voltage -2064 -288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL voltage -2064 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL res 1040 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 453
SYMBOL res 1040 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 453
SYMBOL res 1296 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 453
SYMBOL res 1088 240 R0
SYMATTR InstName R14
SYMATTR Value 453
SYMBOL voltage -1760 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(0 300 200k)
SYMBOL res 624 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 249
SYMBOL cap 1264 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1p
SYMBOL res 64 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1Meg
SYMBOL res 208 128 R0
SYMATTR InstName R7
SYMATTR Value 20k
SYMBOL voltage -2048 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value SINE(0 1 200K)
SYMBOL res 624 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 249
SYMBOL cap 592 -608 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C15
SYMATTR Value 1p
SYMBOL cap 592 -16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C16
SYMATTR Value 1p
SYMBOL res 208 -112 R0
SYMATTR InstName R20
SYMATTR Value 20k
SYMBOL res 1584 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 50
SYMBOL res 1632 80 R0
SYMATTR InstName R15
SYMATTR Value 50
SYMBOL res -16 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1Meg
SYMBOL res -96 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 1Meg
SYMBOL res -176 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 1Meg
SYMBOL res -256 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 1Meg
SYMBOL res 32 -240 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R23
SYMATTR Value 220
SYMBOL cap 128 -256 R0
SYMATTR InstName C1
SYMATTR Value 0.5n
SYMBOL cap -272 -384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10p
SYMBOL cap -208 -384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 10p
SYMBOL cap -144 -384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 10p
SYMBOL cap -48 -384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 10p
SYMBOL cap 32 -384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 10p
SYMBOL cap 96 240 R0
SYMATTR InstName C9
SYMATTR Value 0.5n
SYMBOL res 80 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1Meg
SYMBOL res 0 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1Meg
SYMBOL res -80 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 1Meg
SYMBOL res -160 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 1Meg
SYMBOL res -240 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 1Meg
SYMBOL cap -256 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 10p
SYMBOL cap -192 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 10p
SYMBOL cap -128 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 10p
SYMBOL cap -32 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 10p
SYMBOL cap 48 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 10p
SYMBOL voltage -1264 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 600 0 1e-9 1e-9 0.5e-6 1e-6)
SYMBOL res 352 -272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 43
SYMBOL cap 352 -256 R0
SYMATTR InstName C14
SYMATTR Value 10p
SYMBOL res 352 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 43
SYMBOL cap 352 256 R0
SYMATTR InstName C17
SYMATTR Value 10p
SYMBOL res 800 496 R0
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res 800 416 R0
SYMATTR InstName R25
SYMATTR Value 2k
SYMBOL cap 880 528 R0
SYMATTR InstName C18
SYMATTR Value 100n
SYMBOL OpAmps\\AD8038 960 400 R0
SYMATTR InstName U5
SYMBOL AutoGenerated\\OPA659 576 -240 R0
SYMATTR InstName U4
SYMBOL AutoGenerated\\OPA659 592 336 R0
SYMATTR InstName U6
SYMBOL AutoGenerated\\OPA659 1200 32 M180
SYMATTR InstName U7
SYMBOL res 800 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 9k
SYMBOL res 800 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 9k
SYMBOL res 1024 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMBOL cap 1008 272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C19
SYMATTR Value 10p
TEXT -208 600 Left 2 !.tran 0.1e-3
TEXT -200 648 Left 2 !.lib ada4817.cir
TEXT 2048 -328 Left 2 !* OPA659\n*****************************************************************************\n* (C) Copyright 2009 Texas Instruments Incorporated. All rights reserved.     *****************************************************************************\n** This model is designed as an aid for customers of Texas Instruments.    \n** TI and its licensors and suppliers make no warranties, either expressed  \n** or implied, with respect to this model, including the warranties of                      \n** merchantability or fitness for a particular purpose. The model is   \n** provided solely on an "as is" basis. The entire risk as to its quality                                 \n** and performance is with the customer         \n*\n*****************************************************************************\n*\n*  Header Modified on 2009-05-13\n*\n*****************************************************************************\n*\n* Released by: Analog eLab Design Center, Texas Instruments Inc.\n* Part:        OPA659\n* Date:        2009-03-10\n* Model Type:  PSpice\n* Simulator:   PSpice 16.0.0.p001\n* Datasheet:   Revised March 2009\n*\n*****************************************************************************\n*  \n* OPA659 SUBCIRCUIT\n* HIGH SPEED MONOLITHIC OPERATIONAL AMPLIFIER \n* THIS MODEL SIMULATES TYPICAL VALUES FOR THE FOLLOWING:\n* SETTLING TIME, OUTPUT VOLTAGE LIMIT, INPUT VOLTAGE NOISE, INPUT BIAS CURRENT,\n* TYPICAL VALUES FOR INPUT OFFSET VOLTAGE AND OFFSET BIAS CURRENT,\n* CURRENT DRAW FROM POWER SUPPLY, OUTPUT IMPEDANCE AND LOADING EFFECTS\n* BANDWIDTH IS RIGHT IN GAINS OF +1V/V AND +2V/V \n* SLEW RATE IS SLOW FOR THE RISING EDGE AND FASTER FOR THE FALLING EDGE\n* THIS MODEL WILL NOT PROVIDE ACCURATE SIMULATION OF: \n* CMRR AND PSRR, INPUT CURRENT NOISE, DISTORTION, INPUT OFFSET, OPEN LOOP GAIN\n*$\n*\n.SUBCKT OPA659     IN+ IN- Vcc+ Vcc- OUT\n*\nJ1     86 N4 0129  NFET 16\nJ2     83 82 79    NFET 16\nRDEG1  0129 0187 10\nRDEG2  79   0187 10\nQ4   HIZ VREF 83 PNP 2\nQ3   20  VREF 86 PNP 2\nQ6   HIZ 20 22 NPN 1\nQ5   20  22 74 NPN 4\nQ7   22  22 76 NPN 4\nRM1  74  Vcc- 50\nRM2  76  Vcc- 50\nCc   HIZ Vcc- 2e-12\nIB1  IN+ N4 DC 10e-12\nIB2  82  0 DC 11e-12\nVoff IN- 82 DC 200e-6\n \n* Input voltage noise source\nRinoise     N1 0  536\nVCCVS1_in   N1 0  0\nHCCVS1      IN+ N4 VCCVS1_in   536\n \n* HIGH FREQUENCY SHAPING *\nEFRQS  077 0 HIZ 0 1\nRFREQS 8  71 25\nLFREQS 077 8 1.5e-9\nCFREQS 71  0 3.5e-12\nC0     IN- 0 2e-12\n \n* OUTPUT *\nQ2   71  71 46 PNP 3\nQ8 71  71 18 NPN 3\nQ9   Vcc+ 46 15 NPN 12\nQ10  Vcc- 18 43 PNP 12\nRBAL1 15 69 1\nRBAL2 43 69 1\n \n* COMPLEX OUTPUT IMPEDANCE *\nRO2 69 0139 5\nRO1 69 0143 5\nCO1 0143 OUT 8e-12\nLO1 0139 OUT 1e-9\n \n\n* Biasing\n*V1    Vcc+ VREF DC 3.29\nV1     Vcc+ VREF DC 2\nI13    Vcc+ 0121 DC 1e-3\nVCONT  0121 Vcc- DC 0\nFDIFFP 0187 0173 VCONT  8\nR16    0173 Vcc- 312\nFCASC2 090 83 VCONT  8\nFCASC1 092 86 VCONT  8\nR18    Vcc+ 090 150\nR17    Vcc+ 092 150\nFEF2   18 Vcc- VCONT  3.35\nFEF1   Vcc+ 46 VCONT  3.35\nECMRR  070 0 POLY(1) IN+ IN-  0  500e-3  500e-3\nGCMRR  065 0 070 Vcc- -10e-9\nRCMRR1 065 0 1e3\nRCMRR2 065 0125 3e3\nCCMRR  070 0125 100e-15\n*\nGEPSRR 058 0 Vcc+ Vcc- 100e-9\nRPSRR3 058 0141 3e3\nRPSRR2 058 0180 3e3\nRPSRR1 058 0    1e3\nCPSRR2 0141 Vcc- 1e-9\nCPSRR1 0180 Vcc+ 100e-12\n \n* MODELS *\n.MODEL NFET NJF(VTO=-2 BETA=100E-6 IS=100E-16 RS=25 RD=25 AF=1 KF=4.0000E-17)\n \n.MODEL NPN NPN AF=1 BF=100 BR=1 CJC=0 CJE=0 CJS=0 EG=1.11 FC=0.5 GAMMA=1E-11\n+IKF=1E9 IKR=1E9 IRB=1E9 IS=1E-16 ISC=0 ISE=0 ISS=0 ITF=0  MJC=0.33\n+MJE=0.33 NC= 2 NE=1.5 NF=1 NK=0.5 NR=1 PTF=0 QCO=0 \n+RB=240 RBM=190 RC=200 RCO=0 RE=0 KF=0.5e-14\n+TF=0 TR=0 VAF=1E9 VAR=1E9 VJC=0.75 VJE=0.75 VO=10 VTF=1E9 \n+XCJC=1 XCJC2=1 XTB=0 XTF=0 XTI=3\n \n.MODEL PNP PNP AF=1 BF=100 BR=1 CJC=0 CJE=0 CJS=0 EG=1.11 FC=0.5 GAMMA=1E-11\n+IKF=1E9 IKR=1E9 IRB=1E9 IS=1E-16 ISC=0 ISE=0 ISS=0 ITF=0  MJC=0.33\n+MJE=0.33 NC= 2 NE=1.5 NF=1 NK=0.5 NR=1 PTF=0 QCO=0 \n+RB=240 RBM=190 RC=200 RCO=0 RE=0 KF=0.5e-14\n+TF=0 TR=0 VAF=1E9 VAR=1E9 VJC=0.75 VJE=0.75 VO=10 VTF=1E9 \n+XCJC=1 XCJC2=1 XTB=0 XTF=0 XTI=3\n \n.ENDS  OPA659\n*$
